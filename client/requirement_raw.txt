FMS-REQ-554
飞行管理软件能对称地部署在两个DPM中，两套飞管软件不分主次，互为备份；能通过IPC的插槽位置确定是FMS1或者FMS2；
FMS-REQ-555
在系统初始化时，FMS1默认使用惯导1的数据；
FMS-REQ-556
在系统初始化时，FMS2默认使用惯导2的数据；
FMS-REQ-557
惯导为双余度设备，FMS应当同时接收全部惯导数据；
FMS-REQ-558
在系统初始化时，FMS1默认使用大气机1的数据；
FMS-REQ-559
在系统初始化时，FMS2默认使用大气机2的数据；
FMS-REQ-560
大气机为双余度设备，FMS应当同时接收全部大气数据；
FMS-REQ-561
FMS发送消息时,应当同时给所有余度设备（MCDU、SDU、HUD）都发送；
FMS-REQ-562
仅当所选惯导地速大于100km/h时，FMS周期（50ms）计算位置趋势，当惯导横滚角数据为无效时，FMS置位置趋势数据为无效；
FMS-REQ-563
仅当所选惯导地速大于100km/h时，FMS周期（50ms）发送位置趋势给SDU
FMS-REQ-566
FMS能周期(50ms)接收到惯导源选择指令并判断其有效性；
FMS-REQ-567
当惯导源选择指令无效时，FMS的惯导选择状态不发生改变；
当FMS收到有效的惯导选择指令时，如果FMS的惯导选择状态与选择指令一致，则不发生改变，否则按照新的指令进行设置；
FMS-REQ-1021
飞管软件重新启动后，导航数据库系统应进行一次初始化操作。
FMS-REQ-1022
飞管软件做导航数据库初始化时，应先向DMS发送握手信号（FMS-DMS-001）并接收DMS回复的握手信号（DMS-FMS-001）。
FMS-REQ-1023
如果握手成功（在发出握手信号后90秒内收到DMS回复的握手信号），从DMS读取数据库文件；否则向MCDU发送“数据库访问失败”告警。
FMS-REQ-1024
飞管软件从DMS读取数据库文件后，校验各数据库（固定数据库、飞行员数据库、性能数据库）中的所有文件，成功则载入数据库；否则， 向MCDU发送“数据库访问失败”告警。
FMS-REQ-1343
飞管软件成功载入导航数据库后应向MCDU发送飞机型号、发动机型号以及数据库版本信息（FMS-MCDU-019）。
FMS-REQ-1312
飞管软件能接收经纬度创建飞行员航路点指令（MCDU-FMS-012）
FMS-REQ-1313
当接收到经纬度创建飞行员航路点指令成功时，判断飞行员临时航路点列表数量已达上限，如果达到，发送“临时飞行员航路点缓存已满”告警并结束处理；否则进行航路点名称合法性判断（FMS-REQ-1314），如果判断通过，根据经、纬度创建航路点并存于临时航路点列表中并向发送临时航路点清单（FMS-MCDU-012）
FMS-REQ-1314
如果航路点名称为空，自动生成（FMS-REQ-1315）航路点名称；否则进行有效性判断，如果无效，发送“航路点名称不合法”告警并结束处理，如果有效，判断航路点名称是否跟临时飞行员航路点列表中的航路点名称重复，如果重复，发送“航路点重名”告警并结束处理
FMS-REQ-1315
航路点自动命名规则为“WPTxxx”，xxx为当前临时飞行员航路点“WPT***”范式中***（000-999）最大值再加1，如果无“WPT***”范式，则命名为WPT001
FMS-REQ-1316
飞管软件能接收方位-距离创建飞行员航路点指令（MCDU-FMS-005）
FMS-REQ-3475
飞行管以点/方位/距离方式创建临时航路点时，当参考点属性为固定点时，创建航路点为固定航路点。
FMS-REQ-3477
如果创建的航路点是移动航路点，则将对应的创建方式存储在移动航路点数据文件中。
FMS-REQ-1317
当接收到点方位-距离创建飞行员航路点指令成功时，判断飞行员临时航路点列表数量已达上限，如果达到，发送“临时飞行员航路点缓存已满”告警并结束处理；否则进行航路点名称合法性判断（FMS-REQ-1314），如果判断通过，根据点方位-距离创建航路点并存于临时航路点列表中并向发送临时航路点清单（FMS-MCDU-012）
FMS-REQ-1318
飞管软件能接收点方位-点方位创建飞行员航路点指令（MCDU-FMS-047）
FMS-REQ-1319
当接收到点方位-点方位创建飞行员航路点指令成功时，判断飞行员临时航路点列表数量已达上限，如果达到，发送“临时飞行员航路点缓存已满”告警并结束处理；否则进行航路点名称合法性判断（FMS-REQ-1314），如果判断通过，根据方位-方位创建航路点并存于临时航路点列表中并向发送临时航路点清单（FMS-MCDU-012）
FMS-REQ-1320
飞管软件能接收永存存储临时航路点指令（MCDU-FMS-029）
FMS-REQ-1321
当接收永久存在临时航路点指令时，判断永久飞行员航路点清单数量是否达到上限，如果达到，发送“飞行员航路点清单已满”告警并结束响应；否则判断永久飞行员航路点清单余量是否充足，如果充足，持久化存储临时航路点，并发送航路点清单（FMS-MCDU-012），否则发送“飞行员航路点清单余量不足”告警并结束响应
FMS-REQ-1322
飞管软件能接收删除飞行员航路点指令
FMS-REQ-1323
当接收到删除飞行员航路点指令时，根据名称删除航路点并发送航路点清单（FMS-MCDU-012）
FMS-REQ-3478
当删除的飞行员航路点为永久存储的飞行员航路点，飞行管理删除移动航路点数据文件中对应链接的点，并将飞行员航路点数据文件和移动航路点数据文件发送给中央存储。
FMS-REQ-1349
飞管应能接收存储飞行员航路指令（MCDU-FMS-014），接收成功后，判断飞行员航路清单是否已满，如果已满，发送告警消息“飞行员航路清单已满”并结束响应（FMS1-MCDU1-020 FMS_091 5=飞行员航路清单已满），否则判断航路名称，如果航路名称为空，则自动生成航路名称；如果不为空，判断名称合法性，如果不合法，发送告警信息“输入不合法”（FMS1-MCDU1-020 FMS_091 111=输入不合法）并结束响应；如果合法，判断名称是否重复，如果重复，发送告警信息“航路重名”（FMS1-MCDU1-020 FMS_091 7=飞行员航路重名）并结束响应，如果不重复，持久化存储为飞行员航路
FMS-REQ-1350
将选中计划存储为飞行员航路时，先判断飞行计划类型，如果是当前计划，判断当前计划是否为空，如果为空，发送告警消息“飞行计划无效”（FMS1-MCDU1-020 FMS_091 110=飞行计划无效），如果不为空，将当前计划持久化存储为飞行员航路，如果存储失败，发送告警消息“数据库访问失败”（FMS1-MCDU1-020 FMS_091 30=数据库访问失败）并结束响应，如果存储成功，发送飞行员航路列表（FMS-MCDU-042）。
FMS-REQ-1351
将选中计划存储为飞行员航路时，先判断飞行计划类型，如果是备份计划，判断备份计划是否为空，如果为空，发送告警消息“飞行计划无效”（FMS1-MCDU1-020 FMS_091 110=飞行计划无效），如果不为空，将备份计划持久化存储为飞行员航路，如果存储失败，发送告警消息“数据库访问失败”（FMS1-MCDU1-020 FMS_091 30=数据库访问失败）并结束响应，如果存储成功，发送飞行员航路列表（FMS-MCDU-042）。
FMS-REQ-1352
飞管软件能接收删除飞行员航路指令（MCDU1-FMS1-009 MCDU_301 181= 删除飞行员定义航路）;
当接收指令成功时，根据名称在数据库中永久删除删除对应飞行员航路，如果删除失败，发送告警消息“数据库访问失败”（FMS-MCDU-020  FMS_091 30=数据库访问失败）并结束响应，否则发送飞行员航路列表(FMS-MCDU-042)
FMS-REQ-1142
飞管软件启动后，应在监视任务开始前做一次在线监控状态初始化操作，包括：1）置零接收对侧飞管心跳信号失败次数；2）置对侧飞管失效告警抑制状态无效。
FMS-REQ-1143
飞管软件应该50ms周期的向对侧飞管软件发送心跳信号。
FMS-REQ-1144
飞管软件应该50ms周期的接收对侧飞管软件的心跳信号。
FMS-REQ-1145
飞管软件能在每个周期内应对接收心跳信号结果进行判断。
FMS-REQ-1146
接收上条数据成功时，初始化在线监控状态。
FMS-REQ-1147
接收失败时，如果累计失败次数大于4次，且对侧失效抑制状态无效，则向MCDU发送对侧飞管告警消息；如果累计失败次数小于5次，加一接收失败次数。
FMS-REQ-1161
飞管应50ms周期的将操作类和状态类告警发送给MCDU或CWS。
FMS-REQ-1162
新产生一个告警消息时，飞管软件应判断该告警的类型；如果是对侧飞管失效告警且对侧飞管失效告警抑制无效，进行告警消息封装处理。如果是左右飞管数据不一致告警且左飞管数据不一致告警抑制无效，进行告警消息封装处理。
FMS-REQ-1163
告警消息封装规则为：如果要发给MCDU，则判断该告警消息是否在MCDU告警消息栈中已存在，则置顶该告警，否则添加告警消息到栈顶。如果要发送给CWS则更新CWS数据单元。
FMS-REQ-1165
飞管软件对所有告警进行集成处理，统一通过FMS-MCDU-020消息通道向两个MCDU同时发送；统一通过FMS-CWS-800消息通道向两个CWS同时发送。
FMS-REQ-1166
飞管软件发送告警消息失败时，应记录错误日志。
FMS-REQ-1170
飞管软件能够接收MCDU发送的告警消隐指令（MCDU-FMS-001）；
FMS-REQ-1171
当告警消隐指令有效时，飞管判断告警队列末的告警消息是状态类告警还是事件类告警。
注：目前的状态类告警包括：251左右飞管数据不一致、252对侧飞管监视失败、24航路结束、25不连续。
FMS-REQ-1172
当告警队列末的告警消息是状态类告警时，设置相应的状态类告警的抑制状态为真，从告警队列中删除该告警，并向MCDU、CWS发送新的告警数据。
FMS-REQ-1173
当告警队列末的告警消息是事件类告警时，直接从告警队列中删除该告警，并向MCDU发送新的告警数据。
FMS-REQ-3240
FMS能够接收MCDU发送的消隐所有告警的指令
FMS-REQ-3241
FMS能够判断当前队列消息是否存在状态类消息
FMS-REQ-3242
当FMS收到MCDU发送的消隐所有告警的指令，且当FMS判断当前消息队列存在状态类消息，且当FMS判断存在告警消息为状态类告警，FMS需要设置抑制标志为有效
FMS-REQ-3243
当FMS收到MCDU发送的消隐所有告警的指令，当FMS将当前消息队列清空
FMS-REQ-1690
FMS上电时，将选择高度告警标识位初始化为非抑制状态。
FMS-REQ-1691
FMS上电时，将飞机高度区初始化为外部区。
FMS-REQ-1692
FMS能够以100ms为周期获取PFC的自动飞控模态（IOM1-FMS1-006）。
FMS-REQ-1693
FMS能够以200ms为周期获取EMCP的襟缝翼手柄位置（IOM1-FMS1-007）。
FMS-REQ-1694
FMS能够以200ms为周期获取EMCP的起落架支柱状态（IOM1-Broadcast-002）。
FMS-REQ-1695
当FMS收到自动飞控模态不为下滑道模态，且襟缝翼手柄位置不为30档，且起落架支柱状态不为放下且锁上时，FMS将选择高度告警置为非抑制状态。
FMS-REQ-1696
当FMS收到自动飞控模态为下滑道模态，或襟缝翼手柄为30档，或起落架支柱状态位放下且锁上时，选择高度告警被置为抑制状态。
FMS-REQ-1697
FMS能够以50ms为周期获取ADC的气压高度和相对气压高度（IOM1-FCTeam-001）。
FMS-REQ-1698
当航电系统当前气压高度基准为相对气压高度，FMS选用ADC的相对气压高度为飞机当前高度。
FMS-REQ-1699
当航电系统当前气压高度基准为标准气压高度，FMS选用ADC的标准气压高度为飞机当前高度。
FMS-REQ-1700
当飞机当前高度无效时，若存在高度告警则清除已有告警；否则，FMS不发送高度告警。
FMS-REQ-1701
当飞机当前高度无效时，清除原有高度区初始化为外部区，不对飞机高度区转换进行判断。
FMS-REQ-1702
FMS能够以50ms为周期计算飞机当前高度和选择高度的差值△H。
FMS-REQ-1703
连续3个周期△H>270m时，FMS认为飞机在外部区。
FMS-REQ-1704
连续3个周期60m<=△H<=270m时，FMS认为飞机在过渡区。
FMS-REQ-1705
连续3个周期△H<60m时，FMS认为飞机在内部区。
FMS-REQ-1706
FMS以50ms为周期判断飞机高度区是否发生转换，若发生转换，发送告警消息至CWS（FMS1-CWS1-800）。
FMS-REQ-1707
选择高度告警为非抑制状态时，FMS判断飞机由外部区进入过渡区时，向CWS发送“接近选择高度”告警消息。
FMS-REQ-1708
选择高度告警为非抑制状态时，FMS判断飞机由过渡区进入内部区时，若存在高度告警则清除已有告警；否则，FMS不发送高度告警。
FMS-REQ-1709
选择高度告警为非抑制状态时，FMS判断飞机由内部区进入过渡区时，向CWS发送“偏离选择高度”告警消息。
FMS-REQ-1710
选择高度告警为非抑制状态时，FMS判断飞机由过渡区进入外部区时，若存在高度告警则清除已有告警；否则，FMS不发送高度告警。
FMS-REQ-1711
选择高度告警为抑制状态时，FMS判断飞机由过渡区进入内部区时，若存在高度告警则清除已有告警；否则，FMS不发送高度告警。
FMS-REQ-1712
选择高度告警为抑制状态时，FMS判断飞机由过渡区进入外部区时，若存在高度告警则清除已有告警；否则，FMS不发送高度告警。
FMS-REQ-1713
选择高度告警为抑制状态时，FMS判断飞机区域转换为其他状态时，不作响应。
FMS-REQ-1714
当选择高度告警标识位从非抑制状态切换到抑制状态时，原有高度区保持不变，原有告警根据高度区转换条件清除，不产生新告警。
FMS-REQ-1715
当选择高度告警标识位从抑制状态切换到非抑制状态时，原有高度区保持不变，根据高度区转换条件向CWS发送高度告警。
MS-REQ-1391
两侧飞管均可以接收到所有传感器的数据,见下图；
FMS-REQ-1392
接收数据源 惯导1、惯导2，大气,机1，大气机2的规则：
在未收到有效的选择指令时，每侧飞管默认使用本侧传感器数据即FMS1默认使用ADC1和INS1的数据，FMS2使用ADC2和INS2的数据，其他具体规则见相关章节需求；
FMS-REQ-1393
接收数据源 MCDU及SDU的规则:
飞管接收任何MCDU（MCDU1，MCDU2）、SDU (SDU11，SDU12，SDU21，SDU22) 消息，直接进行相应处理，不进行源选择的判断；
FMS-REQ-1395
对于接收IOM发送的左发油门角度和右发油门角度数据规则：
如果本侧IOM的左发油门角度和右发油门角度，如果这两个参数至少有一个有效，油门角度的计算规则参考FMS-ERQ-1277、FMS-ERQ-1387和FMS-ERQ-1389;
FMS-REQ-1396
对于接收IOM发送的左发油门角度和右发油门角度数据规则：
如果本侧IOM左发油门和右发油门数据均无效，飞管使用对侧IOM发送的左发油门和右发油门数据，油门角度的计算规则参考FMS-ERQ-1277、FMS-ERQ-1387和FMS-ERQ-1389;
FMS-REQ-1397
对于接收INSU，数据链CDLS,IOM（主飞控、襟翼、自动飞控、机电、轮载由IOM转发，不包含油门角度）数据的规则：
飞管默认使用本侧的数据，当本侧数据无效，则使用对侧数据；
FMS-REQ-1398
发送数据 MCDU,SDU,自动飞控及中央告警 的规则：
飞管发送/回复给MCDU，SDU以及自动飞控，中央告警数据或消息时，需要给其所有冗余系统均发送：MCDU（MCDU1，MCDU2），及四个SDU接收接口(SDU11，SDU12，SDU21，SDU22)，飞控（飞控1，飞控2），中央告警（中央告警1，中央告警2）；
FMS-REQ-1399
接收和发送对侧飞管数据规则：
接收和发送对侧飞管的数据见3.1.9同步章节。
FMS-REQ-1400
具体外部接口数据内容见附件ICD文件；
FMS-REQ-1401
外部系统数据通讯需求见<<中间件接口及使用规范>>；
FMS-REQ-1403
各个接口对应的功能使用需求参见具体功能需求章节。
FMS-REQ-1416
飞管向平显发送人工输入的起飞参考速度、人工输入的着陆参考速度（FMS-HUD-003）
FMS-REQ-1417
飞管刚启动时，发送起飞机场的属性为无效；
FMS-REQ-1418
当飞管判断当前计划的起飞机场不存在时，发送起飞机场的属性为无效；
FMS-REQ-1419
当飞管判断当前计划的起飞机场发生更改时，发送更改后的起飞机场属性属性。
FMS-REQ-2970
飞管向平显发送气压基准类型：标准/修正（QNH/QFE）（FMS-HUD-004）。
FMS-REQ-2971
飞管向平显发送飞行阶段（FMS-HUD-001）。
FMS-REQ-1421
飞管通过接口FMS-IOM-002周期发送最新的V1、V2、VR，具体发送接口要求见ICD文件；
FMS-REQ-1422
飞管通过接口FMS-IOM-002周期发送最新的QFE/QNH状态，具体发送接口要求见ICD文件；
FMS-REQ-2907
飞管通过FMS_CMS_001周期发送飞行阶段。